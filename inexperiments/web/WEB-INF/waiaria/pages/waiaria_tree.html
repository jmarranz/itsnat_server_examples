<!DOCTYPE html>
<html xmlns:itsnat="http://itsnat.org/itsnat">
<head>
<title>Tree</title>
<style type="text/css">
.tree { overflow: auto; width: 25%; height: 25em; cursor: default; border: 1px solid gray; padding-left: .5em;}
.treeitem {  margin-right: .6em;}
.collapsedgroup { display : none; }
.group { margin-left: 1.5em; }
.treeitemfocus { outline: 0px; background-color: #dddddd; color: black;}
</style>
<script type="text/javascript">
<!--
function imgToggle(event)
{
    // Redefined because is disabled
}
-->
</script>
</head>
<body role="application">
<h1>Accessible WAI-ARIA Tree View with ItsNat</h1>
<p>This example is based on this <a href="http://codetalks.org/source/widgets/tree/tree.html" target="_blank">example of tree widget</a> linked by the <a href="http://www.w3.org/WAI/PF/aria-practices/#TreeView" target="_blank">WAI-ARIA W3C standard</a>,
   converted to <a href="http://www.itsnat.org" target="_blank">ItsNat</a>, that is, client JavaScript code is the same in server but using Java W3C DOM APIs
   and receiving Java W3C DOM Events. This example should work in almost all supported browsers by ItsNat including MSIE 6.x.
</p>
<p>Tested with <a href="http://www.firevox.clcworld.net/">Fire Vox</a> screen reader (to test WAI-ARIA behavior).
    Fire Vox is an extension for FireFox. If your FireFox version is not supported by Fire Vox, use a virtual
    machine and install the exact FireFox version.
</p>

<p>How to use: keyboard works as in normal tree view. Use arrow keys to move, including left/right or enter to collapse/expand. Double clicking with mouse also toggles expansion. Type characters to find a tree item that begins with those characters.
Repeat characters to cycle through all items that begin with that character. Single click on twisties to expand/collapse
</p>

<!-- Initially selected item needs tabindex="0" -->
<div id="tree" role="tree" tabindex="-1" class="tree" itsnat:nocache="true"
     onclickNO="return treeItemClick(event);"
     ondblclickNO="return treeItemEvent(event);"
     onkeydownNO="return treeItemEvent(event);"
     onkeypressNO="return treeItemEvent(event);" >
  <div id="veggieDiv" role="presentation"><img src="waiaria/img/minus.gif" tabindex="-1"  role="presentation"  onclick="imgToggle(event);" alt="" /><span tabindex="0" role="treeitem" aria-expanded="true" class="treeitem" id="veggie" onfocus="this.className='treeitemfocus';" onblur="this.className='treeitem';">Veggies</span></div>
  <div role="group" class="group" id="veggieGroup">
     <div id="greenPar" role="presentation"><img src="waiaria/img/minus.gif" tabindex="-1"  role="presentation"  onclick="imgToggle(event);" alt="" /><span tabindex="-1" role="treeitem" aria-expanded="true" class="treeitem">Green</span></div>
     <div role="group" class="group" id="greenGroup">
       <div role="presentation"><span  tabindex="-1" role="treeitem" class="treeitem">Asparagus</span></div>
       <div role="presentation"><span tabindex="-1" role="treeitem"  class="treeitem">Kale</span></div>
       <div role="presentation">
         <img src="waiaria/img/minus.gif" tabindex="-1"  role="presentation" onclick="imgToggle(event);" alt=""/>
         <span tabindex="-1" role="treeitem" aria-expanded="true" class="treeitem">Leafy</span>
       </div>
       <div role="group" class="group" >
         <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Lettuce</span></div>
         <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Kale</span></div>
         <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Spinach</span></div>
         <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Chard</span></div>
       </div>
       <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Green beans</span></div>
     </div>
     <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Legumes</span></div>
     <div role="presentation">
       <img src="waiaria/img/minus.gif" tabindex="-1"  role="presentation" onclick="imgToggle(event);" alt="" />
       <span tabindex="-1" role="treeitem" aria-expanded="true" class="treeitem">Yellow</span>
     </div>
     <div role="group" class="group">
       <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Bell peppers</span></div>
       <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Squash</span></div>
     </div>
  </div>
  <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Junk food</span></div>
  <div role="presentation" ><img src="waiaria/img/minus.gif" tabindex="-1"  role="presentation" onclick="imgToggle(event);" alt="" /><span tabindex="-1" role="treeitem" class="treeitem" aria-expanded="true">Fruit</span></div>
  <div role="group" class="group">
    <div id="typicalDiv" role="presentation"><img src="waiaria/img/minus.gif" tabindex="-1"  role="presentation" onclick="imgToggle(event);" alt="" /><span tabindex="-1" role="treeitem" class="treeitem" aria-expanded="true">Typical</span></div>
    <div role="group" class="group" id="typicalGroup">
      <div role="presentation"id="orange"><span tabindex="-1" role="treeitem" class="treeitem">Oranges</span></div>
      <div role="presentation"id="apple"><span tabindex="-1" role="treeitem" class="treeitem">Apples</span></div>
      <div role="presentation"id="banana"><span tabindex="-1" role="treeitem" class="treeitem">Bananas</span></div>
      <div role="presentation"id="pine"><span tabindex="-1" role="treeitem" class="treeitem">Pineapple</span></div>
      <div role="presentation"id="grape"><span tabindex="-1" role="treeitem" class="treeitem">Grapes</span></div>
    </div>
    <div id="exoiticDiv" role="presentation"><img src="waiaria/img/minus.gif" tabindex="-1"  role="presentation" onclick="imgToggle(event);" alt="" /><span tabindex="-1" role="treeitem" class="treeitem" aria-expanded="true">Exotic</span></div>
    <div role="group" class="group" id="exoticGroup">
      <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Mangos</span></div>
      <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Guava</span></div>
      <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Star fruit</span></div>
      <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Coconut</span></div>
      <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Bread fruit</span></div>
      <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem">Custard apples</span></div>
      <div role="presentation"><span tabindex="-1" role="treeitem" class="treeitem" id="end item" >Papaya</span></div>
    </div>
  </div>
</div>

</body>
</html>
